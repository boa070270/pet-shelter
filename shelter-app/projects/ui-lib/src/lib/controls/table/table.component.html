<div>
  <table cdk-table>
    <caption>
      <div class="table-caption-block">
        <div>
          <select [(ngModel)]="pageSize" title="Some title">
            <option *ngFor="let o of PagingSize">{{o}}</option>
          </select>
          <button (click)="snakeDialog()" class="gm-settings" [title]="i18n.settings"></button>
        </div>
        <strong>{{pCaption}}</strong>
        <label>
          <span class="gm-search"></span>
          <input #inputSearch type="text" class="table-search" (click)="clickSearch()" (keyup)="keyUp()">
          <span></span>
        </label>
      </div>
    </caption>
    <ng-container *ngFor="let col of allColumns" cdkColumnDef="{{col}}" >
      <th cdk-header-cell *cdkHeaderCellDef  class="{{orderIcons[col]}}" (click)="orderCell(col)"> {{pDisplayedNames[col]}} </th>
      <td cdk-cell *cdkCellDef="let element"> {{element[col]}} </td>
    </ng-container>

    <tr cdk-header-row *cdkHeaderRowDef="displayedColumns"></tr>
    <tr cdk-row *cdkRowDef="let row; columns: displayedColumns;" (click)="rowClick(row)" [ngClass]="{'table-mark-row': selectedRows.includes(row)}"></tr>
  </table>
  <div class="table-status-bar">
    <span> {{i18n.selected | choiceFormat:selectedRows.length}}</span>
    <span *ngIf="maxPage > 1">
        <button (click)="page = 1" [title]="i18n.first"> << </button>
        <button (click)="incPage(-1)" [title]="i18n.prev"> < </button>
        <input type="number" [(ngModel)]="page" [min]="1" [max]="maxPage">
        <button (click)="incPage(1)"  [title]="i18n.next"> > </button>
        <button (click)="page = maxPage"  [title]="i18n.last"> >> </button>
      </span>
    <span><span *ngIf="filteredCount < rowCount"> {{i18n.filteredCount | choiceFormat:filteredCount}}</span> {{i18n.rowsCount | choiceFormat:rowCount}}</span>
  </div>
  <span class="hint">{{pHint}}</span>
</div>
<ng-template #dlg>
  <button (click)="clearSelect()" class="gm-remove_done" [title]="i18n.clearSelect"></button>
  <button (click)="refresh()" class="gm-refresh" [title]="i18n.refresh"></button>
  <button (click)="tableSettings()" class="gm-view_column" [title]="i18n.settings"></button>
  <button (click)="showSearchDialog()" class="gm-search" [title]="i18n.filter"></button>
  <button (click)="editRow()" class="gm-edit" [title]="i18n.editRow"></button>
  <button (click)="viewRow()" class="gm-tv" [title]="i18n.viewRow"></button>
  <button (click)="addRow()" class="gm-add" [title]="i18n.addRow"></button>
  <button (click)="deleteRows()" class="gm-delete" [title]="i18n.deleteRows"></button>
  <button *ngFor="let act of actions" (click)="customAction(act.command)" class="{{act.icon}}" [title]="act.tooltip"></button>
</ng-template>
